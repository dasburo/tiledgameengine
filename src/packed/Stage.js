/*! TiledGameEngine v1.0.0 - 20th Feb 2015 | https://github.com/elvariongh/tiledgameengine */
(function(d,a){function b(a,b,c){this.active=!1;this.name=a;this.redraw=!1;this.am=b;this.screen=c;this.sidResize=this.sidMove=-1}b.prototype.update=function(){return this.active?(this.redraw=!0,16):1E3};b.prototype.render=function(){this.active&&this.screen&&this.redraw&&(this.redraw=!1)};b.prototype.onViewportResize=function(){this.redraw=!0;a.bus.notify("invalidateStage",this.name)};b.prototype.onViewportMove=function(){this.redraw=!0;a.bus.notify("invalidateStage",this.name)};b.prototype.deactivate=
function(){this.active=!1;a.bus.unsubscribe("onViewportResize",this.sidResize);a.bus.unsubscribe("onViewportMove",this.sidMove);this.sidResize=this.sidMove=-1;this.redraw=!1};b.prototype.activate=function(){this.active=!0;this.sidResize=a.bus.subscribe("onViewportResize",this.onViewportResize.bind(this));this.sidMove=a.bus.subscribe("onViewportMove",this.onViewportMove.bind(this));this.redraw=!0;a.bus.notify("invalidateStage",this.name)};a.Stage=b})(window,TiledGameEngine);