/*! TiledGameEngine v1.0.0 - 20th Feb 2015 | https://github.com/elvariongh/tiledgameengine */
(function(d){function a(){this.a=void 0}var g=FPSMeter?new FPSMeter({graph:1,heat:1,theme:"transparent"}):void 0,c=0,h=0,k=0,l=!1,e=!1,b={},f=!1;a.prototype.init=function(){l=!0;this.frame=this.frame.bind(this);a.bus=new a.PubSub;a.bus.subscribe("invalidateStage",this.b.bind(this))};a.prototype.b=function(a,b){this.a&&this.a.name===b&&(f=!0)};a.prototype.start=function(){l&&(e||(c=d.requestAnimationFrame(this.frame)),e=!0)};a.prototype.stop=function(){e&&c&&d.cancelAnimationFrame(c);c=0;e=!1};a.prototype.frame=
function(a){g&&g.tick();var b=a-k;0<h-b&&!f||(k=a,h=this.d(b),this.c());c=d.requestAnimationFrame(this.frame)};a.prototype.d=function(a){return this.a?this.a.update(a):16};a.prototype.c=function(){this.a&&(this.a.redraw||f)&&this.a.render();f=!1};a.prototype.addStage=function(a,c){return b[a]?!1:(b[a]=c,!0)};a.prototype.getStage=function(a){return b[a]?b[a]:void 0};a.prototype.activateStage=function(a){this.a&&(this.a.deactivate(),this.a=void 0);b[a]&&(this.a=b[a],this.a.activate(),this.a.redraw=
!0);return void 0!==this.a};a.bus=void 0;d.TiledGameEngine=a})(window);